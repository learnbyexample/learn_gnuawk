<!doctypehtml><html class="sidebar-visible no-js light"lang=en><head><meta charset=UTF-8><title>Preface - CLI text processing with GNU awk</title><meta content="text/html; charset=utf-8"http-equiv=Content-Type><meta content="Example based guide to mastering GNU awk"name=description><meta content=width=device-width,initial-scale=1 name=viewport><meta content=#ffffff name=theme-color><meta content="CLI text processing with GNU awk"property=og:title><meta content=website property=og:type><meta content="Example based guide to mastering GNU awk"property=og:description><meta content=https://learnbyexample.github.io/learn_gnuawk/ property=og:url><meta content=https://raw.githubusercontent.com/learnbyexample/learn_gnuawk/master/images/gawk_ls.png property=og:image><meta content=1280 property=og:image:width><meta content=720 property=og:image:height><meta content=summary_large_image property=twitter:card><meta content=@learn_byexample property=twitter:site><link href=favicon.svg rel=icon><link rel="shortcut icon"href=favicon.png><link href=css/variables.css rel=stylesheet><link href=css/general.css rel=stylesheet><link href=css/chrome.css rel=stylesheet><link href=FontAwesome/css/font-awesome.css rel=stylesheet><link href=fonts/fonts.css rel=stylesheet><link href=highlight.css rel=stylesheet><link href=tomorrow-night.css rel=stylesheet><link href=ayu-highlight.css rel=stylesheet><link href=style.css rel=stylesheet><body><script>var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";</script><script>try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }</script><script>var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');</script><script>var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);</script><nav aria-label="Table of contents"class=sidebar id=sidebar><div class=sidebar-scrollbox><ol class=chapter><li class="chapter-item expanded affix"><a href=cover.html>Cover</a><li class="chapter-item expanded affix"><a href=buy.html>Buy PDF/EPUB versions</a><li class="chapter-item expanded"><a class=active href=preface.html><strong aria-hidden=true>1.</strong> Preface</a><li class="chapter-item expanded"><a href=installation-and-documentation.html><strong aria-hidden=true>2.</strong> Installation and Documentation</a><li class="chapter-item expanded"><a href=awk-introduction.html><strong aria-hidden=true>3.</strong> awk introduction</a><li class="chapter-item expanded"><a href=regular-expressions.html><strong aria-hidden=true>4.</strong> Regular Expressions</a><li class="chapter-item expanded"><a href=field-separators.html><strong aria-hidden=true>5.</strong> Field separators</a><li class="chapter-item expanded"><a href=record-separators.html><strong aria-hidden=true>6.</strong> Record separators</a><li class="chapter-item expanded"><a href=in-place-file-editing.html><strong aria-hidden=true>7.</strong> In-place file editing</a><li class="chapter-item expanded"><a href=using-shell-variables.html><strong aria-hidden=true>8.</strong> Using shell variables</a><li class="chapter-item expanded"><a href=control-structures.html><strong aria-hidden=true>9.</strong> Control Structures</a><li class="chapter-item expanded"><a href=built-in-functions.html><strong aria-hidden=true>10.</strong> Built-in functions</a><li class="chapter-item expanded"><a href=multiple-file-input.html><strong aria-hidden=true>11.</strong> Multiple file input</a><li class="chapter-item expanded"><a href=processing-multiple-records.html><strong aria-hidden=true>12.</strong> Processing multiple records</a><li class="chapter-item expanded"><a href=two-file-processing.html><strong aria-hidden=true>13.</strong> Two file processing</a><li class="chapter-item expanded"><a href=dealing-with-duplicates.html><strong aria-hidden=true>14.</strong> Dealing with duplicates</a><li class="chapter-item expanded"><a href=awk-scripts.html><strong aria-hidden=true>15.</strong> awk scripts</a><li class="chapter-item expanded"><a href=gotchas-and-tips.html><strong aria-hidden=true>16.</strong> Gotchas and Tips</a><li class="chapter-item expanded"><a href=further-reading.html><strong aria-hidden=true>17.</strong> Further Reading</a><li class="chapter-item expanded"><a href=Exercise_solutions.html><strong aria-hidden=true>18.</strong> Exercise Solutions</a></li><br><hr><li class="chapter-item expanded"><i class="fa fa-github"id=git-repository-button></i><a href=https://github.com/learnbyexample/learn_gnuawk>   Source code</a><li class="chapter-item expanded"><i class="fa fa-home"id=home-button></i><a href=https://learnbyexample.github.io/>   My Blog</a><li class="chapter-item expanded"><i class="fa fa-book"id=book-button></i><a href=https://learnbyexample.github.io/books/>   My Books</a><li class="chapter-item expanded"><i class="fa fa-envelope"id=mail-button></i><a href=https://learnbyexample.gumroad.com/l/learnbyexample-weekly>   learnbyexample weekly</a><li class="chapter-item expanded"><i class="fa fa-twitter"id=twitter-button></i><a href=https://twitter.com/learn_byexample>   Twitter</a></ol></div><div class=sidebar-resize-handle id=sidebar-resize-handle></div></nav><div class=page-wrapper id=page-wrapper><div class=page><div id=menu-bar-hover-placeholder></div><div class="menu-bar sticky bordered"id=menu-bar><div class=left-buttons><button aria-label="Toggle Table of Contents"title="Toggle Table of Contents"aria-controls=sidebar class=icon-button id=sidebar-toggle type=button><i class="fa fa-bars"></i></button><button aria-label="Change theme"title="Change theme"aria-controls=theme-list aria-expanded=false aria-haspopup=true class=icon-button id=theme-toggle type=button><i class="fa fa-paint-brush"></i></button><ul aria-label=Themes class=theme-popup id=theme-list role=menu><li role=none><button class=theme id=light role=menuitem>Light (default)</button><li role=none><button class=theme id=rust role=menuitem>Rust</button><li role=none><button class=theme id=coal role=menuitem>Coal</button><li role=none><button class=theme id=navy role=menuitem>Navy</button><li role=none><button class=theme id=ayu role=menuitem>Ayu</button></ul><button aria-label="Toggle Searchbar"title="Search. (Shortkey: s)"aria-controls=searchbar aria-expanded=false aria-keyshortcuts=S class=icon-button id=search-toggle type=button><i class="fa fa-search"></i></button></div><h1 class=menu-title>CLI text processing with GNU awk</h1><div class=right-buttons><a aria-label=Blog href=https://learnbyexample.github.io title=Blog> <i class="fa fa-home"id=home-button></i> </a><a aria-label=Twitter href=https://twitter.com/learn_byexample title=Twitter> <i class="fa fa-twitter"id=twitter-button></i> </a><a aria-label="Git repository"title="Git repository"href=https://github.com/learnbyexample/learn_gnuawk> <i class="fa fa-github"id=git-repository-button></i> </a></div></div><div class=hidden id=search-wrapper><form class=searchbar-outer id=searchbar-outer><input placeholder="Search this book ..."aria-controls=searchresults-outer aria-describedby=searchresults-header id=searchbar name=searchbar type=search></form><div class="searchresults-outer hidden"id=searchresults-outer><div class=searchresults-header id=searchresults-header></div><ul id=searchresults></ul></div></div><script>document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });</script><div class=content id=content><main><div class=sidetoc><nav class=pagetoc></nav></div><h1 id=preface><a class=header href=#preface>Preface</a></h1><p>When it comes to command line text processing, the three major pillars are <code>grep</code> for filtering, <code>sed</code> for substitution and <code>awk</code> for field processing. These tools have overlapping features too, for example, all three of them have extensive filtering capabilities.<p>Unlike <code>grep</code> and <code>sed</code>, <code>awk</code> is a programming language. However, this book intends to showcase <code>awk</code> one-liners that can be composed from the command line instead of focusing on larger scripts.<p>This book heavily leans on examples to present features one by one. Regular expressions will also be discussed in detail.<p>It is recommended that you manually type each example. Make an effort to understand the sample input as well as the solution presented and check if the output changes (or not!) when you alter some part of the input and the command. As an analogy, consider learning to drive a car — no matter how much you read about them or listen to explanations, you'd need practical experience to become proficient.<h2 id=prerequisites><a class=header href=#prerequisites>Prerequisites</a></h2><p>You should be familiar with command line usage in a Unix-like environment. You should also be comfortable with concepts like file redirection and command pipelines. Knowing the basics of the <code>grep</code> and <code>sed</code> commands will be handy in understanding the filtering and substitution features of <code>awk</code>.<p>As <code>awk</code> is a programming language, you are also expected to be familiar with concepts like variables, printing, functions, control structures, arrays and so on.<p>If you are new to the world of the command line, check out my <a href=https://github.com/learnbyexample/cli-computing>Computing from the Command Line</a> ebook and curated resources on <a href=https://learnbyexample.github.io/curated_resources/linux_cli_scripting.html>Linux CLI and Shell scripting</a> before starting this book.<h2 id=conventions><a class=header href=#conventions>Conventions</a></h2><ul><li>The examples presented here have been tested with <strong>GNU awk</strong> version <strong>5.2.2</strong> and includes features not available in earlier versions.<li>Code snippets are copy pasted from the <code>GNU bash</code> shell and modified for presentation purposes. Some commands are preceded by comments to provide context and explanations. Blank lines to improve readability, only <code>real</code> time shown for speed comparisons, output skipped for commands like <code>wget</code> and so on.<li>Unless otherwise noted, all examples and explanations are meant for <strong>ASCII</strong> input.<li><code>awk</code> would mean <code>GNU awk</code>, <code>sed</code> would mean <code>GNU sed</code>, <code>grep</code> would mean <code>GNU grep</code> and so on unless otherwise specified.<li>External links are provided throughout the book for you to explore certain topics in more depth.<li>The <a href=https://github.com/learnbyexample/learn_gnuawk>learn_gnuawk repo</a> has all the code snippets and files used in examples, exercises and other details related to the book. If you are not familiar with the <code>git</code> command, click the <strong>Code</strong> button on the webpage to get the files.</ul><h2 id=acknowledgements><a class=header href=#acknowledgements>Acknowledgements</a></h2><ul><li><a href=https://www.gnu.org/software/gawk/manual/>GNU awk documentation</a> — manual and examples<li><a href=https://stackoverflow.com/>stackoverflow</a> and <a href=https://unix.stackexchange.com/>unix.stackexchange</a> — for getting answers to pertinent questions on <code>awk</code> and related commands<li><a href=https://tex.stackexchange.com/>tex.stackexchange</a> — for help on <a href=https://github.com/jgm/pandoc/>pandoc</a> and <code>tex</code> related questions<li><a href=https://old.reddit.com/r/commandline>/r/commandline/</a>, <a href=https://old.reddit.com/r/linux4noobs/>/r/linux4noobs/</a>, <a href=https://old.reddit.com/r/linuxquestions/>/r/linuxquestions/</a> and <a href=https://old.reddit.com/r/linux/>/r/linux/</a> — helpful forums<li><a href=https://www.canva.com/>canva</a> — cover image<li><a href=https://github.com/shssoichiro/oxipng>oxipng</a>, <a href=https://pngquant.org/>pngquant</a> and <a href=https://github.com/RazrFalcon/svgcleaner>svgcleaner</a> — optimizing images<li><a href=https://commons.wikimedia.org/wiki/File:Warning_icon.svg>Warning</a> and <a href=https://commons.wikimedia.org/wiki/File:Info_icon_002.svg>Info</a> icons by <a href=https://commons.wikimedia.org/wiki/User:Amada44>Amada44</a> under public domain<li><a href=https://github.com/arifmahmudrana>arifmahmudrana</a> for spotting an ambiguous explanation<li><a href=https://github.com/Pound-Hash>Pound-Hash</a> for critical feedback<li><a href=https://github.com/rust-lang/mdBook>mdBook</a> — for web version of the book that you are currently reading <ul><li><a href=https://github.com/JorelAli/mdBook-pagetoc>mdBook-pagetoc</a> — for adding table of contents for each chapter<li><a href=https://github.com/wilsonzlin/minify-html>minify-html</a> — for minifying html files</ul></ul><p>Special thanks to all my friends and online acquaintances for their help, support and encouragement, especially during these difficult times.<h2 id=feedback-and-errata><a class=header href=#feedback-and-errata>Feedback and Errata</a></h2><p>I would highly appreciate it if you'd let me know how you felt about this book. It could be anything from a simple thank you, pointing out a typo, mistakes in code snippets, which aspects of the book worked for you (or didn't!) and so on. Reader feedback is essential and especially so for self-published authors.<p>You can reach me via:<ul><li>Issue Manager: <a href=https://github.com/learnbyexample/learn_gnuawk/issues>https://github.com/learnbyexample/learn_gnuawk/issues</a><li>E-mail: learnbyexample.net@gmail.com<li>Twitter: <a href=https://twitter.com/learn_byexample>https://twitter.com/learn_byexample</a></ul><h2 id=author-info><a class=header href=#author-info>Author info</a></h2><p>Sundeep Agarwal is a lazy being who prefers to work just enough to support his modest lifestyle. He accumulated vast wealth working as a Design Engineer at Analog Devices and retired from the corporate world at the ripe age of twenty-eight. Unfortunately, he squandered his savings within a few years and had to scramble trying to earn a living. Against all odds, selling programming ebooks saved his lazy self from having to look for a job again. He can now afford all the fantasy ebooks he wants to read and spends unhealthy amount of time browsing the internet.<p>When the creative muse strikes, he can be found working on yet another programming ebook (which invariably ends up having at least one example with regular expressions). Researching materials for his ebooks and everyday social media usage drowned his bookmarks, so he maintains curated resource lists for sanity sake. He is thankful for free learning resources and open source tools. His own contributions can be found at <a href=https://github.com/learnbyexample>https://github.com/learnbyexample</a>.<p><strong>List of books:</strong> <a href=https://learnbyexample.github.io/books/>https://learnbyexample.github.io/books/</a><h2 id=license><a class=header href=#license>License</a></h2><p>This work is licensed under a <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.<p>Code snippets are available under <a href=https://github.com/learnbyexample/learn_gnuawk/blob/master/LICENSE>MIT License</a>.<p>Resources mentioned in Acknowledgements section are available under original licenses.<h2 id=book-version><a class=header href=#book-version>Book version</a></h2><p>2.0<p>See <a href=https://github.com/learnbyexample/learn_gnuawk/blob/master/Version_changes.md>Version_changes.md</a> to track changes across book versions.</main><nav aria-label="Page navigation"class=nav-wrapper><a aria-label="Previous chapter"class="mobile-nav-chapters previous"title="Previous chapter"aria-keyshortcuts=Left href=buy.html rel=prev> <i class="fa fa-angle-left"></i> </a><a aria-label="Next chapter"class="mobile-nav-chapters next"title="Next chapter"aria-keyshortcuts=Right href=installation-and-documentation.html rel=next> <i class="fa fa-angle-right"></i> </a><div style="clear: both"></div></nav></div></div><nav aria-label="Page navigation"class=nav-wide-wrapper><a aria-label="Previous chapter"class="nav-chapters previous"title="Previous chapter"aria-keyshortcuts=Left href=buy.html rel=prev> <i class="fa fa-angle-left"></i> </a><a aria-label="Next chapter"class="nav-chapters next"title="Next chapter"aria-keyshortcuts=Right href=installation-and-documentation.html rel=next> <i class="fa fa-angle-right"></i> </a></nav></div><script>window.playground_copyable = true;</script><script charset=utf-8 src=elasticlunr.min.js></script><script charset=utf-8 src=mark.min.js></script><script charset=utf-8 src=searcher.js></script><script charset=utf-8 src=clipboard.min.js></script><script charset=utf-8 src=highlight.js></script><script charset=utf-8 src=book.js></script><script src=sidebar.js></script>